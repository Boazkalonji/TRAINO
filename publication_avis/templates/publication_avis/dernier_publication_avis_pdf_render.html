{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Avis au Public N° {{ publication_avis.reference_avis }}</title>
    
    <style>
        /* Base Styling */
        body {
            font-family: Arial, sans-serif;
            font-size: 10pt;
            margin: 0; 
            padding: 0;
            color: #333;
        }
        .container {
            width: 90%;
            margin: 0 auto; /* Pour centrer, mais pas de marges verticales agressives */
        }
        .document-container {
            padding: 20px 40px; /* Remplissage haut/bas réduit, côtés conservés */
            border: none; /* Supprime le cadre */
            box-shadow: none; /* Supprime l'ombre */
        }
        .row::after {
            content: "";
            display: table;
            clear: both;
        }
        .col-3 { width: 25%; float: left; }
        .col-9 { width: 75%; float: left; }
        .col-12 { width: 100%; clear: both; }
        .text-start { text-align: left; }
        .text-end { text-align: right; }
        .text-center { text-align: center; }
        .fw-bold { font-weight: bold; }
        .fw-bolder { font-weight: 900; }
        .fst-italic { font-style: italic; }
        .text-uppercase { text-transform: uppercase; }
        .my-4 { margin-top: 15px; margin-bottom: 15px; } /* LÉGÈREMENT réduit */
        .my-5 { margin-top: 15px; margin-bottom: 15px; } /* LÉGEREMENT réduit */
        .body-section { margin-bottom: 15px; }
        .title-section { margin-bottom: 15px; }
        .text-justify { text-align: justify; }
        
        /* Custom Structure */
        .header-section { margin-bottom: 20px; }
        .title-section { margin-bottom: 30px; }
        .body-section { margin-bottom: 30px; }
        .footer-section { margin-top: 30px; text-align: right; }
        .legal-info { 
            font-size: 7pt; 
            color: #666; 
            border-top: 1px solid #ddd; 
            padding-top: 10px;
            text-align: center;
        }
        
        /* Table Styling */
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        .table-bordered th, .table-bordered td {
            border: 1px solid #dee2e6;
            padding: 8px;
            vertical-align: top;
        }
        .tariff-table thead th {
            color: white;
            background-color: #343a40; /* table-dark */
        }
        .text-success { color: #28a745; }
        
        /* Train Icon (SVG Base64) - CORRECTED */
        .train-icon {
            display: inline-block;
            width: 50px; 
            height: 50px;
            /* Le commentaire suivant causait l'erreur d'analyse de VS Code :
            /* SVG de l'icône de train (couleur rouge danger: #dc3545) encodé en Base64 */
            
            background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI2RjMzU0NSIgZD0iTTE5IDBjLTQuNDIgMC04IDMtOCA2djlsLTcgNXYyaDN2Mmg4di0yaDN2LTJoMS41Yy44MyAwIDEuNS0uNjcgMS41LTEuNXYtMTMuNWMwLS44My0uNjctMS41LTEuNS0xLjVoLTJjMC0xLjY2IDEuMzQtMyAzLTNoLTJ6bS05IDYuNWMwLS44My42Ny0xLjUgMS41LTEuNXMxLjUuNjcgMS41IDEuNSAwIC40Mi0uMjMuNzZsLS40My0uNDRsLjY2LjU1Yy0uMi4zMi0uNDMuNzYtLjQzLjc2czAtLjc2LS43NS0xLjI1Yy0uNzUgLjUwLS43NSAxLjI1LS43NSAxLjI1cy4wOS0uMTkuMzItLjQxbC0uNi0uNWMuMDktLjIxLjQ1LS42LjYtLjhsLS41LS41Yy0uMTcuMjItLjYgLjU1LS44My43NmwuNDMtLjQzYy0uMjktLjMzLS40OC0uNzgtLjQ4LTEuMjJ6bTktMS41Yy0xLjY2IDAtMyAxLjM0LTMgM3Y5aDN2LTJjLjU1IDAgMS0uNDUgMS0xdi05YzAtLjU1LS40NS0xLTEtMXptLTMgOGgtMnYtNmgtNnY4aDRsNCAydjEuOTZjLS4wNi4wMi0uMTIuMDQtLjE5LjA1LS40MS4wNi0uNzcuMjctLjk3LjU2LS4zMS40Ni0uMzcuODctLjEgMS4xOC4wNy4xMS4xNS4yLjI0LjI3LjYyLjQ2IDEuNDguNjIgMi4zLjQyIDAtLjAxIDAgLjAyIDAgLjAyLjUyLS4yIDEuMDQtLjQ0IDEuNDYtLjcgMS40OC0uNjIgMi4zLS40MiAyLjMxLS40M2wuNDYtLjA2Yy41MS0uMTIuOTYtLjM0IDEuMzUtLjY2LjA3LS4wNi4xMy0uMTMuMTktLjIgMTAtLjMyLS41MS0uNTEtLjQtLjg2LS4zMS0uNDYtLjgyLS42Ni0xLjMtLjY4LS4yLS4wMS0uNC0uMDEtLjYtLjAyLjc1LS4wMSAxLjUtLjAzIDIuMjQtLjA0LjQ5LS4wMS44Mi0uMDMgMS4wMy0uMDQuMDctLjAxLjEzLS4wMy4xOS0uMDVsLjE5LS4wNWMtLjUxLS4yMS0uOTgtLjQ1LTEuMzktLjczbC0uMS0uMDZsLS4xOC0uMTFjLS40MS0uMjItLjgyLS40Ny0xLjI1LS43OWwtLjQtLjMtLjI1LS4yMWMtLjA2LS4wNi0uMTItLjEyLS4xOC0uMTdsLS4wNi0uMDVsLS4wNS0uMDZsLS4wNC0uMDZtLTkgNC41Yy0uNjktLjY5LS42OS0xLjgzIDAtMi41Mi42OS0uNjkgMS44My0uNjkgMi41MiAwIC42OS42OS42OSAxLjgzIDAgMi41Mi0uNjkuNjktMS44My42OS0yLjUyIDB6bTkgMS41YzAtLjU1LjQ1LTEgMS0xcyAxIC40NSAx IDF2MWgtMnYtMXoiLz48L3N2Zy==") !important;
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
        }
    </style>
</head>
<body>
    <div class="container my-5">
        <div class="document-container">
            <div class="header-section row mb-4 align-items-center">
                <div class="col-3 text-start">
                    <div class="logo-placeholder">
                        <div class="train-icon"></div>
                    </div>
                </div>
                <div class="col-9 text-end small">
                    <p class="mb-0">Kinshasa, le {{publication_avis.date_avis|date:"d F Y"}}</p>
                </div>
                <div class="col-12 text-start mt-2">
                    <p class="mb-0 fw-bold">OFFICE NATIONAL DES TRANSPORTS</p>
                    <p class="mb-0 fw-bold">ONATRA s.a.</p>
                    <p class="mb-0 fst-italic">Direction Générale</p>
                </div>
            </div>

            <hr class="my-4">

            <div class="title-section text-center mb-5">
                <h5 class="fw-bold mb-1">AVIS AU PUBLIC N° {{publication_avis.reference_avis | upper}}</h5>
                <h4 class="fw-bolder text-uppercase">{{publication_avis.titre_avis | upper}}</h4>
            </div>

            <div class="body-section mb-5">
                <p style="text-indent: 50px;" class="text-justify">
                    {{ publication_avis.message_avis }} 
                </p>
            </div>

            <div class="table-responsive mb-5">
                <table class="table table-bordered tariff-table">
                    <thead class="table-dark">
                        <tr>
                            <th colspan="3" class="text-center">Personnes exemptées et Tarification</th>
                        </tr>
                        <tr>
                            <th scope="col" style="width: 40%;">Consigne</th>
                            <th scope="col" class="text-center">1ère classe</th>
                            <th scope="col" class="text-center">Classe de luxe</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Les enfants de 0 à 5 ans</td>
                            <td class="text-center fw-bold text-success">Gratuit</td>
                            <td class="text-center fw-bold text-success">Gratuit</td>
                        </tr>
                        <tr>
                            <td>Les enfants de 6 à 10 ans</td>
                            <td class="text-center">75% $US/passager</td>
                            <td class="text-center">75% $US/passager</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="table-responsive mb-5">
                <table class="table table-bordered tariff-table">
                    <thead class="table-dark">
                        <tr>
                            <th colspan="4" class="text-center">Tarification des billets</th>
                        </tr>
                        <tr>
                            <th scope="col" class="text-start">Désignation</th>
                            <th scope="col" class="text-center">1ère classe</th>
                            <th scope="col" class="text-center">Classe de luxe</th>
                            <th scope="col" class="text-center">Classe Premium</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for tarif in tarification_max %}
                        <tr>
                            <td class="text-start">{{ tarif.designation_tarififcation }}</td> 
                            <td class="text-center fw-bold">{{ tarif.pu_le_plus_eleve }} $US</td>
                            <td class="text-center fw-bold">{{ tarif.pu_le_plus_eleve }} $US</td>
                            <td class="text-center fw-bold">{{ tarif.pu_le_plus_eleve }} $US</td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="4" class="text-center fst-italic">Aucune tarification maximale trouvée.</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
            <div class="body-section mb-5">
                <p style="text-indent: 50px;" class="text-justify">
                    {{publication_avis.consigne_avis }}
                </p>
            </div>

            <div class="footer-section text-end mt-5">
                <p class="mb-0">Fait à Kinshasa, le {{publication_avis.date_avis|date:"d F Y"}}</p>
                <p class="mb-0 fw-bold mt-4">LE DIRECTEUR GENERAL</p>
            </div>

            <div class="legal-info small mt-5 pt-3 border-top text-center">
                 <p class="mb-0">Société Anonyme Unipersonnelle - capital social : 1.464.432.500.000 FC</p>
                 <p class="mb-0">N°R.C.C.M. CD/KIN/RCCM/14-B-3292-N° ID NAT.01-71-N60911K N°Impôt: AO 700220Y</p>
                 <p class="mb-0">177, Blvd du 30 juin - Kinshasa/Gombe - Email: onatrakin@gmail.com - www.onatra-cd.com</p>
            </div>

        </div>
    </div>
</body>
</html>