<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.19.1.final using JasperReports Library version 6.19.1-867c00bf88cd4d784d404379d6c05e1b419e8a4c  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="telecharger_ticket_new" pageWidth="450" pageHeight="800" columnWidth="410" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="711b3e20-7fb0-4f91-b446-59a9a7a79300">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="rapport_jour_cash"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<parameter name="P_EMAIL_USER" class="java.lang.String"/>
	<queryString language="SQL">
		<![CDATA[SELECT
	T1.id,
	T1.numero_billet,
	T1.montant_paiement,
	T1.nombre_place_reserve,
	T1.date_paiement,
	T1.qr_code,
	T1.email_user,
	T2.libelle_mode AS mode_paiement_libelle,
	T3.designation_tarififcation AS classe_tarif,
	T5.heure_depart,
	T4.distance AS distance_km,
	T6.username AS nom_client,
	G_DEP.libelle_gare AS gare_depart_libelle,
	G_ARR.libelle_gare AS gare_arrivee_libelle
FROM reservation_paiement_paiement AS T1
LEFT JOIN reservation_paiement_mode_paiement AS T2 ON T2.id = T1.id_mode_paiement_id
LEFT JOIN tarification_tarification AS T3 ON T3.id = T1.id_tarification_id
LEFT JOIN details_voyage_details_voyage AS T4 ON T4.id = T3.id_details_voyage_id
LEFT JOIN voyage_voyage AS T5 ON T5.id = T4.id_voyage_id
LEFT JOIN auth_user AS T6 ON T6.id = T1.id_user_id
LEFT JOIN gare_gare AS G_DEP ON G_DEP.id = T4.id_gare_depart_id
LEFT JOIN gare_gare AS G_ARR ON G_ARR.id = T4.id_gare_arrive_id
WHERE
    T1.id = (
        SELECT MAX(id)
        FROM reservation_paiement_paiement 
        WHERE email_user = $P{P_EMAIL_USER} 
        AND statut = TRUE
    )
    AND T1.statut = TRUE]]>
	</queryString>
	<field name="id" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="id"/>
		<property name="com.jaspersoft.studio.field.label" value="id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_paiement"/>
	</field>
	<field name="numero_billet" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="numero_billet"/>
		<property name="com.jaspersoft.studio.field.label" value="numero_billet"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_paiement"/>
	</field>
	<field name="montant_paiement" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="montant_paiement"/>
		<property name="com.jaspersoft.studio.field.label" value="montant_paiement"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_paiement"/>
	</field>
	<field name="nombre_place_reserve" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="nombre_place_reserve"/>
		<property name="com.jaspersoft.studio.field.label" value="nombre_place_reserve"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_paiement"/>
	</field>
	<field name="date_paiement" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="date_paiement"/>
		<property name="com.jaspersoft.studio.field.label" value="date_paiement"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_paiement"/>
	</field>
	<field name="qr_code" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="qr_code"/>
		<property name="com.jaspersoft.studio.field.label" value="qr_code"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_paiement"/>
	</field>
	<field name="email_user" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="email_user"/>
		<property name="com.jaspersoft.studio.field.label" value="email_user"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_paiement"/>
	</field>
	<field name="mode_paiement_libelle" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="mode_paiement_libelle"/>
		<property name="com.jaspersoft.studio.field.label" value="mode_paiement_libelle"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="reservation_paiement_mode_paiement"/>
	</field>
	<field name="classe_tarif" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="classe_tarif"/>
		<property name="com.jaspersoft.studio.field.label" value="classe_tarif"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tarification_tarification"/>
	</field>
	<field name="heure_depart" class="java.sql.Time">
		<property name="com.jaspersoft.studio.field.name" value="heure_depart"/>
		<property name="com.jaspersoft.studio.field.label" value="heure_depart"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="voyage_voyage"/>
	</field>
	<field name="distance_km" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="distance_km"/>
		<property name="com.jaspersoft.studio.field.label" value="distance_km"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="details_voyage_details_voyage"/>
	</field>
	<field name="nom_client" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="nom_client"/>
		<property name="com.jaspersoft.studio.field.label" value="nom_client"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="auth_user"/>
	</field>
	<field name="gare_depart_libelle" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="gare_depart_libelle"/>
		<property name="com.jaspersoft.studio.field.label" value="gare_depart_libelle"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="gare_gare"/>
	</field>
	<field name="gare_arrivee_libelle" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="gare_arrivee_libelle"/>
		<property name="com.jaspersoft.studio.field.label" value="gare_arrivee_libelle"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="gare_gare"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="92" splitType="Stretch">
			<rectangle>
				<reportElement x="0" y="49" width="410" height="41" forecolor="rgba(230, 227, 227, 0.74509805)" backcolor="rgba(230, 227, 227, 0.74509805)" uuid="386832b9-d1cb-4f8f-b67b-842f28dac3b3"/>
			</rectangle>
			<staticText>
				<reportElement x="140" y="55" width="110" height="33" uuid="0bab7c90-5ab2-45a2-aac9-c3c31d81b033"/>
				<textElement textAlignment="Center">
					<font fontName="Serif" size="20" isBold="true"/>
				</textElement>
				<text><![CDATA[TICKET N°]]></text>
			</staticText>
			<textField>
				<reportElement x="250" y="55" width="86" height="33" forecolor="#FC0C08" backcolor="#FC0C08" uuid="de63f9a8-ecde-4028-af14-b2692a699a9b"/>
				<textElement textAlignment="Left">
					<font fontName="Serif" size="20" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{id}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="2" y="0" width="407" height="30" uuid="5d7988c6-4ed0-48ae-84da-336278726099"/>
				<textElement textAlignment="Center">
					<font size="16"/>
				</textElement>
				<text><![CDATA[CHEMINS DE FER]]></text>
			</staticText>
			<staticText>
				<reportElement x="3" y="21" width="407" height="19" uuid="3374b353-78e2-4263-8fda-9ccba79ab10a"/>
				<textElement textAlignment="Center">
					<font size="14"/>
				</textElement>
				<text><![CDATA[Gare Centrale/Kinshasa]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="11" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="14" splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="275" splitType="Stretch">
			<staticText>
				<reportElement x="1" y="0" width="204" height="30" uuid="d9ce9deb-518c-4304-b0c7-cb6339f3ee44"/>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[Numéro Billet :]]></text>
			</staticText>
			<textField>
				<reportElement x="210" y="0" width="198" height="30" uuid="96903d6e-e1d1-4e54-96d9-b4b85b1e22f2"/>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{numero_billet}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="210" y="32" width="198" height="28" uuid="d167448d-9422-4b75-ba71-7336f7cbd850">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="51954899-768a-4283-a258-96f57b63f25f"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["****"+java.text.NumberFormat.getNumberInstance(java.util.Locale.US).format($F{montant_paiement}).replace(',', '.')+"****"+"FC"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="1" y="32" width="204" height="28" uuid="2add717d-00d0-4e4d-960f-9150348b3560">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="51954899-768a-4283-a258-96f57b63f25f"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[montant paiement:]]></text>
			</staticText>
			<textField>
				<reportElement x="210" y="62" width="62" height="28" uuid="854e5576-a860-4290-b427-d6483c245583">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="cbe80a92-7626-429e-ada2-7d6af0b5754c"/>
				</reportElement>
				<textElement textAlignment="Justified" verticalAlignment="Middle">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["***"+$F{nombre_place_reserve}+"***"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="62" width="205" height="34" uuid="5b888424-057f-4070-98b2-4f7f4146f652">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="cbe80a92-7626-429e-ada2-7d6af0b5754c"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[nombre place reserve:]]></text>
			</staticText>
			<textField>
				<reportElement x="302" y="61" width="106" height="28" forecolor="#2911FA" uuid="85d9f3af-79cc-4ba7-b363-d4f5890ab91d">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="60a31ab0-2bcb-4ef8-8735-7cc8c526741b"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{classe_tarif}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="210" y="89" width="126" height="30" uuid="bdfa1266-51f4-42e6-b060-0a9e99a9e6d1">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f2d75d2d-d799-4a36-9cc5-9f56b28c2955"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{date_paiement}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="1" y="89" width="205" height="34" uuid="42acde50-1f9a-4249-9ddd-05f223b16626">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="cbe80a92-7626-429e-ada2-7d6af0b5754c"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[Date paiement:]]></text>
			</staticText>
			<textField>
				<reportElement x="212" y="116" width="200" height="30" uuid="3a5a9532-91ad-46f5-92e4-6137746b613b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7007f307-4f3a-4c3c-87fe-b7c4b71dd63d"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{mode_paiement_libelle}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="116" width="210" height="30" uuid="3d3ea1de-4bd8-444f-aba7-014084f050ba">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7007f307-4f3a-4c3c-87fe-b7c4b71dd63d"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[mode paiement libelle:]]></text>
			</staticText>
			<textField>
				<reportElement x="212" y="147" width="198" height="30" uuid="cbcac3f9-35c5-4eab-916a-a2acaa3f8b77">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="4f75661c-a296-42fd-b290-0d13ef62f118"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["***"+$F{distance_km}+"***"+"KM"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="146" width="205" height="34" uuid="c6f78e3f-c606-4f74-b651-922473aaf9b7">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="4f75661c-a296-42fd-b290-0d13ef62f118"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[distance km:]]></text>
			</staticText>
			<textField>
				<reportElement x="60" y="240" width="178" height="32" forecolor="#FC0E0A" uuid="ec553e64-008f-43ff-94c2-370bddb1cc95">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="4eb21e03-2321-421a-b381-a088475e7d69"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["TRAJETS: "+$F{gare_depart_libelle}+"--"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="245" y="240" width="154" height="33" forecolor="#FC0E0A" uuid="400764ab-282e-4926-8896-3ba9d694e6fe">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c24a6e8c-5ece-4d6b-a7ee-386afc010b70"/>
				</reportElement>
				<textElement textAlignment="Left">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{gare_arrivee_libelle}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="180" width="80" height="30" uuid="97099098-23c9-4be4-a496-591703e3bedd"/>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[Email:]]></text>
			</staticText>
			<textField>
				<reportElement x="212" y="210" width="196" height="30" uuid="409ea44d-e8e7-422e-8b6a-6703860122e5">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d5623f69-2711-470b-84aa-493d87cee414"/>
				</reportElement>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nom_client}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="1" y="212" width="204" height="28" uuid="c033d521-18bb-460a-a1e5-370e462b0c1b"/>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="18" isBold="true"/>
				</textElement>
				<text><![CDATA[Client:]]></text>
			</staticText>
			<textField>
				<reportElement x="98" y="182" width="311" height="30" uuid="8d895e0b-345f-4bad-b250-bc8f74592e65">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="73227999-bb59-4cb3-bb96-6639144ce909"/>
				</reportElement>
				<textElement textAlignment="Left">
					<font fontName="Serif" size="15" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{email_user}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="273" splitType="Stretch">
			<frame>
				<reportElement x="123" y="4" width="175" height="156" uuid="487269d3-1793-4169-ac91-f231117bcb78"/>
				<box>
					<pen lineWidth="1.0" lineStyle="Dashed" lineColor="#FF0905"/>
				</box>
				<image>
					<reportElement x="17" y="5" width="150" height="146" uuid="be691bc0-6f7c-47b6-b877-92cd4ac9c178"/>
					<imageExpression><![CDATA["C:\\VENV_TRAINO_PROJET_TUTORE\\TRAINO_PROJET\\media\\"+$F{qr_code}.toString()]]></imageExpression>
				</image>
			</frame>
			<rectangle>
				<reportElement x="0" y="170" width="122" height="3" forecolor="#FFFB08" backcolor="#FFFB08" uuid="ba847638-513c-4d2b-ab7d-760a17c21e7f"/>
			</rectangle>
			<rectangle>
				<reportElement x="122" y="170" width="180" height="3" forecolor="#FF0A2F" backcolor="#FF0A2F" uuid="5af4ddc2-25d7-4d0c-8ee6-752a8249ace0"/>
			</rectangle>
			<rectangle>
				<reportElement x="302" y="170" width="108" height="3" forecolor="#170FFF" backcolor="#170FFF" uuid="fec671d5-850e-4b08-acbf-2d918102d862"/>
			</rectangle>
			<staticText>
				<reportElement x="3" y="190" width="407" height="83" uuid="1d798a7c-fde8-48bd-a10e-b1f5e06164a1"/>
				<textElement textAlignment="Justified">
					<font fontName="Serif" size="11"/>
				</textElement>
				<text><![CDATA["Société Anonyme Unipersonnelle - capital social: 1.646.432.500.00 FC N° R.C.C.M CD/KIN/RCCM/14-B-3292-N° ID.NAT0.1-71-N60911K N°Impot: AO 70022OY N° ASSUJETTISSEMENT:0721/DF/DGE/DIG/MB/TVA/2011 177, BLVD DU 30 JUIN - KINSHASA/GOMBE - EMAIL: ONATRAKIN@GMAIL.COM - WWW.ONATRA-CD.COM"]]></text>
			</staticText>
		</band>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
